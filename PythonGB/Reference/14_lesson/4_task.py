# ------------------------------------------- 4 -----------------------------
"""
–ù–∞–ø–∏—à–∏—Ç–µ –¥–ª—è –∑–∞–¥–∞—á–∏ 1 —Ç–µ—Å—Ç—ã pytest. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
    üìå –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    üìå –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä–æ–∫–∏ —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–∏–º–≤–æ–ª–æ–≤
    üìå –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä–æ–∫–∏ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –∑–Ω–∞–∫–æ–≤ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏
    üìå –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä–æ–∫–∏ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –±—É–∫–≤ –¥—Ä—É–≥–∏—Ö –∞–ª—Ñ–∞–≤–∏—Ç–æ–≤
    üìå –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä–æ–∫–∏ —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ (–∫—Ä–æ–º–µ –ø. 1)
"""

from string import ascii_letters

import pytest


def filter_lower(s: str) -> str:
    result = ''.join(char for char in s if char in set(ascii_letters + ' '))
    return result.lower()


def test_no_change():
    input_text = "This is a sample text with 123 numbers and punctuation!"
    result = filter_lower(input_text)
    assert result == "this is a sample text with 123 numbers and punctuation!"


def test_change_case():
    input_text = "UpperCase And LOWERCASE"
    result = filter_lower(input_text)
    assert result == "uppercase and lowercase"


def test_remove_punctuation():
    input_text = "Text with, some. punctuation!"
    result = filter_lower(input_text)
    assert result == "text with some punctuation"


def test_remove_non_latin_chars():
    input_text = "–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ"
    result = filter_lower(input_text)
    assert result == "    "


def test_combined_changes():
    input_text = "Th!s Is a TeXt w1th √ú√±ic√∂d√®"
    result = filter_lower(input_text)
    assert result == "ths is a text w1th cd"


if __name__ == '__main__':
    pytest.main(['-v'])
